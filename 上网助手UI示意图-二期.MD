# 上网助手UI设计示意图（二期）

## 设计理念

在现有翻译插件的基础上，整合文本翻译和文本改写功能，打造一个综合性的上网助手工具。该工具将提供网页文本的翻译和改写功能，帮助用户更好地理解和处理网络内容。

## UI布局设计

### 主要功能区域

1. **大模型配置区域**
   - 大模型选择下拉菜单
   - 支持多种大模型的API Key配置
   - 模型参数设置（Base URL、模型端点等）
   - 当前模型状态指示器

2. **网页原文区域**
   - 显示从网页中选中的原始文本
   - 提供复制原文功能

3. **功能切换区域**
   - 翻译/改写功能切换标签页
   - 保持界面简洁，避免功能混乱

4. **翻译功能区域**
   - 源语言和目标语言选择
   - 翻译操作按钮
   - 翻译结果显示
   - 翻译统计信息

5. **改写功能区域**
   - 改写提示词编辑框
   - 改写操作按钮
   - 改写结果显示
   - 改写统计信息

### 界面布局草图

```
+--------------------------------------------------+
| 上网助手                                         |
+--------------------------------------------------+
| 大模型配置区域:                                  |
| 大模型: [下拉菜单 ▼]  [状态指示器]              |
| [Kimi] [DeepSeek] [Qwen] [Doubao]               |
|                                                  |
| API Key: [密码输入框]                           |
| Base URL: [文本输入框]                          |
| 模型端点: [文本输入框]                          |
|                                                  |
| [保存] [测试连接] [开启调试] [导出日志]         |
+--------------------------------------------------+
| 网页原文                                         |
| [选中的文本内容显示区域]                        |
| [📋 复制原文] [🗑️ 清空]                         |
+--------------------------------------------------+
| [翻译] [改写]                                    |
+--------------------------------------------------+
| 翻译功能区域:                                    |
| 源语言: [下拉菜单 ▼]  目标语言: [下拉菜单 ▼]    |
|                                                  |
| [🔄 开始翻译]                                   |
|                                                  |
| 翻译结果:                                        |
| [翻译后的文本内容显示区域]                      |
| [📋 复制译文] [🗑️ 清空]                         |
|                                                  |
| 统计信息:                                        |
| 翻译时间: XX秒  字符数: XX  单词数: XX          |
+--------------------------------------------------+
| 改写功能区域:                                    |
| [提示词编辑框                                    |
|  请将以下文本改写得更加正式和专业               |
|  要求：                                          |
|  1. 保持原意不变                                 |
|  2. 使用正式的商务语言                           |
|  3. 适当扩展内容以增强表达力]                    |
|                                                  |
| [🔄 开始改写]                                   |
|                                                  |
| 改写结果:                                        |
| [改写后的文本内容显示区域]                      |
| [📋 复制改写结果] [🗑️ 清空]                     |
|                                                  |
| 统计信息:                                        |
| 改写时间: XX秒  原字符数: XX  改写后字符数: XX  |
+--------------------------------------------------+
```

## 功能交互设计

### 核心交互流程

1. 用户选择合适的大模型并配置相关参数
2. 用户在网页中选择需要处理的文本
3. 选中文本自动同步到插件的"网页原文"区域
4. 用户选择使用翻译功能还是改写功能
5. 根据选择的功能进行相应操作：
   - 翻译功能：选择源语言、目标语言，点击"开始翻译"
   - 改写功能：编辑提示词，点击"开始改写"
6. 处理结果在对应区域显示
7. 用户可以复制原文、译文或改写结果

### 特色功能

1. **统一模型配置**: 大模型选择和配置功能整合在一个区域，放在界面最顶端，便于用户优先配置
2. **功能切换**: 通过标签页在翻译和改写功能间切换，界面简洁清晰
3. **统一文本源**: 网页原文区域作为统一的文本输入源，供翻译和改写功能共享
4. **个性化配置**: 支持多种大模型配置，满足不同用户需求
5. **实时同步**: 与网页选中文本实时同步
6. **统计信息**: 显示处理前后的文本统计信息对比
7. **状态指示**: 显示大模型连接状态
8. **清空功能**: 各个结果区域支持清空操作

## 技术实现考虑

### 功能模块化设计

1. **配置模块**: 管理大模型配置信息，作为最优先模块
2. **文本处理模块**: 负责文本选择、同步和显示
3. **翻译模块**: 实现文本翻译功能
4. **改写模块**: 实现文本改写功能
5. **UI模块**: 负责界面展示和用户交互

### 与现有功能的整合

1. 复用现有的文本选择和同步机制
2. 保持一致的UI风格和交互体验
3. 共享相同的API调用基础架构
4. 统一的配置管理机制

## 用户体验优化

1. **直观的操作界面**: 简洁明了的布局，将最重要的配置放在最顶端
2. **功能明确分区**: 通过标签页明确区分翻译和改写功能
3. **优先配置**: 将大模型配置放在最顶端，让用户优先完成最重要的设置
4. **即时反馈**: 操作后立即显示结果，提供流畅的使用体验
5. **个性化设置**: 允许用户保存常用的配置和提示词
6. **清晰的指引**: 提供必要的使用说明和示例
7. **状态可视化**: 通过状态指示器显示模型连接状态
8. **操作便捷**: 提供清空按钮，方便用户进行重复操作

## 二期功能扩展建议

### 界面交互优化
1. 功能切换时添加淡入淡出的动画效果，提升用户体验
2. 为网络请求添加加载进度条，提升用户等待体验

### 功能扩展
1. 添加"历史记录"功能，让用户能够查看之前处理过的文本
2. 增加"批量处理"功能，支持用户一次处理多个选中的文本段落
3. 添加"自定义提示词模板"功能，让用户保存常用的改写指令
4. 添加"中止请求"功能，允许用户取消正在进行的处理操作

### 错误处理
1. 添加统一的错误提示区域，集中显示各类错误信息
2. 为网络错误、API错误等不同类型的错误提供友好的中文提示
3. 添加"重试"按钮，方便用户在出错时快速重试

### 配置管理
1. 添加"导入/导出配置"功能，让用户能够备份和迁移大模型配置
2. 为不同大模型提供"默认配置恢复"功能
3. 添加配置验证功能，在保存配置时检查必要参数是否完整

### 性能优化
1. 考虑添加"结果缓存"机制，对于相同的输入和配置直接返回缓存结果
2. 实现指数退避重试机制，处理API限流问题